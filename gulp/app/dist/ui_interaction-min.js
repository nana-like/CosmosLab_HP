/**
 * -----------------------------------------------
 * Project: COSMOS LAB HOMEPAGE
 * Author: Nana <nykim@nykim.net>
 * Last Modified: 2021-09-07 17:40:48
 * -----------------------------------------------
 */

let headerHeight;var showcaseImgs=document.querySelectorAll(".showcase__img"),showcaseSpans=document.querySelectorAll(".sc-span"),showcaseSpans_M=document.querySelectorAll(".sc-span-mo"),showcasePaths=document.querySelectorAll(".sc-path"),showcaseDots=document.querySelectorAll(".sc-dot"),showcasePoints=document.querySelectorAll(".points__button");function getheaderHeight(){return headerHeight=isTabletSize()?68:100,console.log(headerHeight),headerHeight}function pathPrepare(t){var a=t.getTotalLength();console.log(a),t.style.strokeDasharray=a+10,t.style.strokeDashoffset=a+10}function getScrollPos(t,a){var e=t.labels.jump/t.totalDuration(),o=a;return o.start+(o.end-o.start)*e}gsap.delayedCall(1,function(){ScrollTrigger.refresh()}),showcasePaths.forEach(function(t){pathPrepare(t)}),$(".header__logo-link").on("click",function(t){t.preventDefault(),gsap.to(window,1,{scrollTo:0})}),$(".footer__top").on("click",function(t){t.preventDefault(),gsap.to(window,1,{scrollTo:0})}),$(".header__menu-link").on("click",function(t){t.preventDefault();var a=$(this).attr("href").split("#")[1];"battery"===a&&gsap.to(window,{scrollTo:getScrollPos(sc_img,battery_animation.scrollTrigger)}),"app"===a&&gsap.to(window,{scrollTo:{y:"#app",offsetY:getheaderHeight()}}),"contact"===a&&gsap.to(window,{scrollTo:{y:"#contact",offsetY:getheaderHeight()}}),$(".header").hasClass("is-opened")&&$(".header").removeClass("is-opened")});const visualPlayer=document.querySelector("#player"),visual_animation=gsap.timeline({scrollTrigger:{trigger:".visual",scrub:1,start:"0 0"}});visual_animation.to(".visual__text",{opacity:0,duration:.5}).to(".visual__player",{z:80,duration:1},0).to(".visual__player",{opacity:0,duration:.6},0);const sc_title=gsap.timeline();sc_title.from(".sc-title-1",{opacity:0,y:100},0),sc_title.from(".sc-title-2",{opacity:0,y:100,delay:.2},0),ScrollTrigger.matchMedia({"( min-width: 1024px )":function(){const t=gsap.timeline();t.addLabel("start").from(showcaseImgs[0],{opacity:0,y:50,duration:.9}).addLabel("show_0").fromTo(showcaseImgs[0],{scale:1.3},{scale:1,x:-208}).from(showcaseDots[0],{opacity:0}).to(showcasePaths[0],{opacity:1,strokeDashoffset:0},"-=0.3").from(showcaseSpans[0],{opacity:0,x:10},"-=0.2").addLabel("show_1").from(showcaseImgs[1],{opacity:0,y:0,x:-20},"-=0.6").from(showcaseDots[1],{opacity:0},"-=0.3").to(showcasePaths[1],{opacity:1,strokeDashoffset:0},"-=0.3").from(showcaseSpans[1],{opacity:0,x:-10},"-=0.2").addLabel("show_2").from(showcaseImgs[2],{opacity:0,y:0,x:-40},"-=0.6").from(showcaseDots[2],{opacity:0},"-=0.3").to(showcasePaths[2],{opacity:1,strokeDashoffset:0},"-=0.3").from(showcaseSpans[2],{opacity:0,x:-10},"-=0.2").addLabel("show_3").from(showcaseDots[3],{opacity:0},"-=0.3").to(showcasePaths[3],{opacity:1,strokeDashoffset:0},"-=0.3").from(showcaseImgs[3],{opacity:0,y:0,x:-60},"-=0.6").from(showcaseSpans[3],{opacity:0,x:10},"-=0.2").addLabel("show_4").from(showcaseImgs[4],{opacity:0,y:0,x:-80},"-=0.4").addLabel("show_5").from(showcaseImgs[5],{opacity:0,y:0,x:-100},"-=0.4").addLabel("show_6").from(showcaseImgs[6],{opacity:0,y:0,x:-120},"-=0.4").addLabel("jump").addLabel("points").set(".points__list",{className:"points__list on"},"-=0.2");gsap.timeline({scrollTrigger:{trigger:".showcase",scrub:1,pin:!0,start:()=>"0 "+getheaderHeight(),end:"bottom -=40%",invalidateOnRefresh:!0}});ScrollTrigger.create({animation:sc_title,trigger:".showcase__title",scrub:1,start:"top 80%",end:"bottom 60%",ease:"back(2)"}),ScrollTrigger.create({animation:t,trigger:".showcase__main",scrub:1,start:"top 70%",end:"bottom -=20%"})},"( max-width: 1024px )":function(){const t=gsap.timeline();t.addLabel("start").from(showcaseImgs[0],{opacity:0,y:50,duration:.9}).addLabel("show_0").fromTo(showcaseImgs[0],{scale:1.3},{scale:1,x:-208}).from(showcaseImgs[1],{opacity:0,y:0,x:-20,duration:.4}).from(showcaseImgs[2],{opacity:0,y:0,x:-40,duration:.4},"-=0.35").from(showcaseImgs[3],{opacity:0,y:0,x:-60,duration:.4},"-=0.35").from(showcaseImgs[4],{opacity:0,y:0,x:-80,duration:.4},"-=0.35").from(showcaseImgs[5],{opacity:0,y:0,x:-100,duration:.4},"-=0.35").from(showcaseImgs[6],{opacity:0,y:0,x:-120,duration:.4},"-=0.35").from(showcaseSpans_M[0],{opacity:0,x:10,duration:.6},"-=0.3").from(showcaseSpans_M[1],{opacity:0,x:10,duration:.6},"-=0.35").from(showcaseSpans_M[2],{opacity:0,x:10,duration:.6},"-=0.35").from(showcaseSpans_M[3],{opacity:0,x:10,duration:.6},"-=0.35");gsap.timeline();ScrollTrigger.create({animation:sc_title,trigger:".showcase",start:"top 50%",end:"bottom 60%",ease:"back(2)",toggleActions:"play none play none",once:!0}),ScrollTrigger.create({animation:t,trigger:".showcase__main",start:"top 60%",end:"-=240%",ease:"back(2)",toggleActions:"play none play none",once:!0}),ScrollTrigger.create({animation:t,trigger:".showcase",start:"top 50%",ease:"back(2)",toggleActions:"play none play none",once:!0}),ScrollTrigger.create({trigger:".points",start:"top 80%",end:"bottom -=100%",onEnter:()=>$(".points__list").addClass("on"),once:!0})}});var ess_title=gsap.timeline();ess_title.from(".ess__title",{opacity:0,y:100,duration:.5}),ess_title.from(".ess__info",{opacity:0,y:100,delay:.2},0),ScrollTrigger.matchMedia({"( min-width: 1024px )":function(){ScrollTrigger.create({animation:ess_title,trigger:".ess__title",scrub:1,end:"bottom 50%",ease:"back(2)"})},"( max-width: 1024px )":function(){ScrollTrigger.create({animation:ess_title,trigger:".ess",start:"top 60%",ease:"back(2)",toggleActions:"play reverse play reverse"})}});var ess_img=gsap.timeline();ess_img.from(".ess__img",{z:-100,x:40,y:20,duration:1.2,ease:"power1.inOut"}),ess_img.from(".ess__img-shadow",{opacity:0,x:-90,y:28,delay:.2,duration:1,ease:Linear.easeNone},0),ess_img.addLabel("jump"),ScrollTrigger.create({markers:{startColor:"#a3017a",endColor:"#d9ba00",fontSize:"18px"},animation:ess_img,trigger:".ess__main",start:"top 70%",end:"bottom +=60%",toggleActions:"play none play none"}),ScrollTrigger.create({markers:{startColor:"#a3017a",endColor:"#d9ba00",fontSize:"18px"},animation:ess_img,trigger:".ess",start:"top 50%",end:"bottom +=60%",toggleActions:"play none none reverse"}),ess_title.from(".ess",{backgroundSize:"130% 130%",backgroundPosition:"45% 15%",ease:Sine.easeOut,duration:1.5},0);var articles_animation=gsap.timeline();ScrollTrigger.create({id:"아티클",markers:{startColor:"#e87134",endColor:"#d6ab93",fontSize:"22px"},trigger:".article",animation:articles_animation,pin:!0,scrub:1,start:()=>"0 "+getheaderHeight(),end:"bottom -=100%",ease:"quart.inOut"}),articles_animation.to("#at-bg1",{opacity:1,x:0,duration:1.5},"first"),articles_animation.to("#at-main0",{opacity:0,x:0,duration:.4},"first"),articles_animation.to("#at-main1",{opacity:1,x:0,duration:.4},"first+=0.4"),articles_animation.to("#at-bg2",{opacity:1,x:0,duration:1.5},"second"),articles_animation.to("#at-main1",{opacity:0,x:0,duration:.4},"second"),articles_animation.to("#at-main2",{opacity:1,x:0,duration:.4},"second+=0.4"),articles_animation.to("#at-bg3",{opacity:1,x:0,duration:1.5},"third"),articles_animation.to("#at-main2",{opacity:0,x:0,duration:.4},"third"),articles_animation.to("#at-main3",{opacity:1,x:0,duration:.4},"third+=0.4"),articles_animation.to("#at-bg4",{opacity:1,x:0,duration:1.5},"4"),articles_animation.to("#at-main3",{opacity:0,x:0,duration:.4},"4"),articles_animation.to("#at-main4",{opacity:1,x:0,duration:.4},"4+=0.4"),articles_animation.to("#at-bg5",{opacity:1,x:0,duration:1.5},"5");const sections=gsap.utils.toArray(".marker");var marker__battery=gsap.timeline({scrollTrigger:{trigger:".marker-battery",id:"BATTERY!",start:"top top+=100px",end:"bottom top+=100px",toggleActions:"play reverse play reverse",toggleClass:{targets:".header__nav a[href$='battery']",className:"is-active"}}}),marker__app=gsap.timeline({scrollTrigger:{trigger:".marker-app",id:"APP!",start:"top top+=100px",end:"bottom top+=100px",toggleActions:"play reverse play reverse",toggleClass:{targets:".header__nav a[href$='app']",className:"is-active"}}}),marker__contact=gsap.timeline({scrollTrigger:{trigger:".marker-contact",id:"CONTACT!",start:"top top+=100px",toggleClass:{targets:".header__nav a[href$='contact']",className:"is-active"}}}),header=gsap.timeline({scrollTrigger:{trigger:".wrap",id:"HEADER!",start:"top top",end:"bottom top",toggleClass:{targets:".header",className:"is-active"}}});